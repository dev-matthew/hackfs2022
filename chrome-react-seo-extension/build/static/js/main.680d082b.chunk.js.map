{"version":3,"sources":["App.js","index.js"],"names":["wallet","App","activeLeft","setActiveLeft","useState","settings","setSettings","localStorage","getItem","passwordNeeded","setPasswordNeeded","includes","progressWidth","setProgressWidth","async","activateWallet","password","Wallet","fromEncryptedJson","e","alert","console","log","reset","useEffect","className","onClick","id","style","width","type","autoComplete","placeholder","privateKey","encrypted","encrypt","setItem","handlePrivateKey","document","getElementById","value","color","ReactDOM","createRoot","render","StrictMode"],"mappings":"2mBAOIA,E,+FAEW,SAASC,IACtB,MAAOC,EAAYC,GAAiBC,mBAAS,IACtCC,EAAUC,GAAeF,mBAAgD,OAAvCG,aAAaC,QAAQ,gBACvDC,EAAgBC,GAAqBN,mBAAgD,OAAvCG,aAAaC,QAAQ,eAA0BD,aAAaC,QAAQ,cAAcG,SAAS,YACzIC,EAAeC,GAAoBT,mBAAS,GAmBnDU,eAAeC,EAAeC,GAC5B,GAAiB,KAAbA,EACF,IACEhB,QAAeiB,IAAOC,kBAAkBX,aAAaC,QAAQ,cAAeQ,EAAUH,GACtF,MAAMM,GACNC,MAAM,yBAGRpB,EAAS,IAAIiB,IAAOV,aAAaC,QAAQ,eAE3Ca,QAAQC,IAAItB,GACZuB,IAGF,SAASA,IACPb,GAAkB,GAClBJ,GAAY,GACZH,EAAc,GACdU,EAAiB,GASnB,OANAW,qBAAU,KACHf,GAAyD,OAAvCF,aAAaC,QAAQ,eAC1CO,EAAe,MAEhB,CAACA,EAAgBN,IAGlB,sBAAKgB,UAAU,MAAf,UACGpB,GAAY,sBAAKoB,UAAU,WAAf,UAC6B,OAAvClB,aAAaC,QAAQ,eAA0B,cAAC,IAAD,CAAWiB,UAAU,uBACnEC,QAAS,KACPH,OAEJ,qBAAKE,UAAU,WAAWE,GAAG,qBAC3BC,MAAO,CACLC,MAAuB,IAAhBjB,EAAsB,QAEjC,uBAAOa,UAAU,gBAAgBE,GAAG,aAAaG,KAAK,OAAOC,aAAa,MAAMC,YAAY,gBAC5F,uBAAOP,UAAU,gBAAgBE,GAAG,WAAWG,KAAK,OAAOC,aAAa,MAAMC,YAAY,aAC1F,wBAAQP,UAAU,oBAChBC,QAAS,MA1DjBZ,eAAgCmB,EAAYjB,GAC1C,IAEE,GADAhB,EAAS,IAAIiB,IAAOgB,GACH,KAAbjB,EAAiB,CACnB,IAAIkB,QAAkBlC,EAAOmC,QAAQnB,EAAUH,GAC/CN,aAAa6B,QAAQ,aAAcF,QAEnC3B,aAAa6B,QAAQ,aAAcH,GAErCZ,QAAQC,IAAItB,GACZuB,IACA,MAAMJ,GACNC,MAAM,wBA+CAiB,CAAiBC,SAASC,eAAe,cAAcC,MAAOF,SAASC,eAAe,YAAYC,QAFtG,qBAMD/B,GAAkB,sBAAKgB,UAAU,kBAAf,UACf,qBAAKA,UAAU,WAAWE,GAAG,mBAC3BC,MAAO,CACLC,MAAuB,IAAhBjB,EAAsB,QAEjC,uBAAOa,UAAU,gBAAgBE,GAAG,kBAAkBG,KAAK,OAAOC,aAAa,MAAMC,YAAY,aACjG,wBAAQP,UAAU,oBAChBC,QAAS,KACPX,EAAeuB,SAASC,eAAe,mBAAmBC,QAF9D,sBAMJ,qBAAKf,UAAU,UAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAMA,UAAU,sBACdC,QAAS,IAAMvB,EAAc,GAC7ByB,MAAO,CACLa,MAAsB,IAAfvC,EAAmB,QAAU,yBAHxC,mBAKA,sBAAMuB,UAAU,sBACdC,QAAS,IAAMvB,EAAc,GAC7ByB,MAAO,CACLa,MAAsB,IAAfvC,EAAmB,QAAU,yBAHxC,oBAKA,cAAC,IAAD,CAAYuB,UAAU,oBACpBC,QAAS,KACPvB,EAAc,GACdG,GAAY,IAEdsB,MAAO,CACLa,MAAsB,IAAfvC,EAAmB,QAAU,gCAI5C,qBAAKuB,UAAU,iBC3GRiB,IAASC,WAAWL,SAASC,eAAe,SACpDK,OAEH,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,S","file":"static/js/main.680d082b.chunk.js","sourcesContent":["import './App.css';\nimport {useEffect, useState} from 'react';\nimport {FiSettings} from 'react-icons/fi';\nimport {IoMdClose} from 'react-icons/io';\nimport {Wallet} from 'ethers';\nimport {Client} from '@xmtp/xmtp-js';\n\nvar wallet;\n\nexport default function App() {\n  const [activeLeft, setActiveLeft] = useState(0);\n  const [settings, setSettings] = useState(localStorage.getItem(\"privateKey\") === null);\n  const [passwordNeeded, setPasswordNeeded] = useState(localStorage.getItem(\"privateKey\") !== null && localStorage.getItem(\"privateKey\").includes(\"cipher\"));\n  const [progressWidth, setProgressWidth] = useState(0);\n\n  async function handlePrivateKey(privateKey, password) {\n    try {\n      wallet = new Wallet(privateKey);\n      if (password !== \"\") {\n        let encrypted = await wallet.encrypt(password, setProgressWidth);\n        localStorage.setItem(\"privateKey\", encrypted);\n      } else {\n        localStorage.setItem(\"privateKey\", privateKey);\n      }\n      console.log(wallet);\n      reset();\n    } catch(e) {\n      alert(\"Invalid private key\");\n    }\n  }\n\n  // eslint-disable-next-line\n  async function activateWallet(password) {\n    if (password !== \"\") {\n      try {\n        wallet = await Wallet.fromEncryptedJson(localStorage.getItem(\"privateKey\"), password, setProgressWidth);\n      } catch(e) {\n        alert(\"Invalid password\");\n      }\n    } else {\n      wallet = new Wallet(localStorage.getItem(\"privateKey\"));\n    }\n    console.log(wallet);\n    reset();\n  }\n\n  function reset() {\n    setPasswordNeeded(false);\n    setSettings(false);\n    setActiveLeft(0);\n    setProgressWidth(0);\n  }\n\n  useEffect(() => {\n    if (!passwordNeeded && localStorage.getItem(\"privateKey\") !== null) {\n      activateWallet(\"\");\n    }\n  }, [activateWallet, passwordNeeded])\n\n  return (\n    <div className=\"App\">\n      {settings && <div className=\"Settings\">\n        {localStorage.getItem(\"privateKey\") !== null && <IoMdClose className=\"ClosePrivateKey Icon\"\n          onClick={() => {\n            reset();\n          }}/>}\n        <div className=\"Progress\" id=\"PrivateKeyProgress\"\n          style={{\n            width: progressWidth * 500 + \"px\"\n          }}></div>\n        <input className=\"SettingsInput\" id=\"PrivateKey\" type=\"text\" autoComplete=\"off\" placeholder=\"Private Key\"></input>\n        <input className=\"SettingsInput\" id=\"Password\" type=\"text\" autoComplete=\"off\" placeholder=\"Password\"></input>\n        <button className=\"Save SaveSettings\"\n          onClick={() => {\n            handlePrivateKey(document.getElementById(\"PrivateKey\").value, document.getElementById(\"Password\").value);\n          }}>Save</button>\n      </div>}\n\n      {passwordNeeded && <div className=\"InitialPassword\">\n          <div className=\"Progress\" id=\"PasswordProgress\"\n            style={{\n              width: progressWidth * 500 + \"px\"\n            }}></div>\n          <input className=\"SettingsInput\" id=\"InitialPassword\" type=\"text\" autoComplete=\"off\" placeholder=\"Password\"></input>\n          <button className=\"Save SavePassword\"\n            onClick={() => {\n              activateWallet(document.getElementById(\"InitialPassword\").value);\n            }}>Enter</button>\n      </div>}\n\n      <div className=\"LeftNav\">\n        <div className=\"LeftNavHeader\">\n          <span className=\"LeftNavHeaderOption\"\n            onClick={() => setActiveLeft(0)}\n            style={{\n              color: activeLeft === 0 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}>Sites</span>\n          <span className=\"LeftNavHeaderOption\"\n            onClick={() => setActiveLeft(1)}\n            style={{\n              color: activeLeft === 1 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}>People</span>\n          <FiSettings className=\"OpenSettings Icon\"\n            onClick={() => {\n              setActiveLeft(3);\n              setSettings(true);\n            }}\n            style={{\n              color: activeLeft === 3 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}/>\n        </div>\n      </div>\n      <div className=\"MiddleNav\"></div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  //React.StrictMode causes useEffect to be called twice\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}