(this["webpackJsonpchrome-react-seo-extension"]=this["webpackJsonpchrome-react-seo-extension"]||[]).push([[0],{166:function(e,t){},321:function(e,t){},325:function(e,t){},326:function(e,t){},344:function(e,t,s){},345:function(e,t,s){},364:function(e,t){},366:function(e,t){},375:function(e,t){},377:function(e,t){},402:function(e,t){},404:function(e,t){},405:function(e,t){},410:function(e,t){},412:function(e,t){},431:function(e,t){},443:function(e,t){},446:function(e,t){},512:function(e,t){},588:function(e,t){},626:function(e,t){},643:function(e,t){},659:function(e,t){},709:function(e,t,s){"use strict";s.r(t);var n,a,c=s(38),o=s(320),i=s.n(o),l=(s(344),s(345),s(334)),r=s(333),d=s(102),u=s(335),p=s(24),j=[],f={all:[]};function v(){const[e,t]=Object(c.useState)(0),[s,o]=Object(c.useState)(null===localStorage.getItem("privateKey")),[i,v]=Object(c.useState)(null!==localStorage.getItem("privateKey")&&localStorage.getItem("privateKey").includes("cipher")),[m,g]=Object(c.useState)(0),[b,O]=Object(c.useState)(!1),[y,h]=Object(c.useState)(!1);async function w(e){if(""!==e)try{n=await d.a.fromEncryptedJson(localStorage.getItem("privateKey"),e,g)}catch(t){alert("Invalid password")}else n=new d.a(localStorage.getItem("privateKey"));console.log(n),S(),await x()}async function x(){a=await u.a.create(n),console.log(a),await async function(){let e=await a.conversations.list();for(const t of e)j.push(t);O(!0),console.log(j)}()}async function N(e){console.log(e);let t=await async function(e){let t=await a.conversations.newConversation(e);return await t.messages()}(e.peerAddress);console.log(t);for(const s of t){let e,t,n=s.content.split("////");n.length>1?(e=n[0],t=n[1]):(e="None",t=n[0]),e in f?f[e].push(t):f[e]=[t],f.all.push(t)}console.log(f),h(!0)}function S(){v(!1),o(!1),t(0),g(0)}return window.onload=function(){i||null===localStorage.getItem("privateKey")||w("")},Object(p.jsxs)("div",{className:"App",children:[s&&Object(p.jsxs)("div",{className:"Settings",children:[localStorage.getItem("privateKey")&&Object(p.jsx)(r.a,{className:"ClosePrivateKey Icon",onClick:()=>{S()}}),Object(p.jsx)("div",{className:"Progress",id:"PrivateKeyProgress",style:{width:500*m+"px"}}),Object(p.jsx)("input",{className:"SettingsInput",id:"PrivateKey",type:"text",autoComplete:"off",placeholder:"Private Key"}),Object(p.jsx)("input",{className:"SettingsInput",id:"Password",type:"text",autoComplete:"off",placeholder:"Password"}),Object(p.jsx)("button",{className:"Save SaveSettings",onClick:()=>{!async function(e,t){try{if(n=new d.a(e),t){let e=await n.encrypt(t,g);localStorage.setItem("privateKey",e)}else localStorage.setItem("privateKey",e);console.log(n),S(),await x()}catch(s){alert("Invalid private key")}}(document.getElementById("PrivateKey").value,document.getElementById("Password").value)},children:"Save"})]}),i&&Object(p.jsxs)("div",{className:"InitialPassword",children:[Object(p.jsx)("div",{className:"Progress",id:"PasswordProgress",style:{width:500*m+"px"}}),Object(p.jsx)("input",{className:"SettingsInput",id:"InitialPassword",type:"text",autoComplete:"off",placeholder:"Password"}),Object(p.jsx)("button",{className:"Save SavePassword",onClick:()=>{w(document.getElementById("InitialPassword").value)},children:"Enter"})]}),Object(p.jsxs)("div",{className:"LeftNav",children:[Object(p.jsxs)("div",{className:"LeftNavHeader",children:[Object(p.jsx)("span",{className:"LeftNavHeaderOption",onClick:()=>t(0),style:{color:0===e?"white":"rgba(255,255,255,0.5)"},children:"People"}),Object(p.jsx)("span",{className:"LeftNavHeaderOption",onClick:()=>t(0),style:{color:1===e?"white":"rgba(255,255,255,0.5)"},children:"Sites"}),Object(p.jsx)(l.a,{className:"OpenSettings Icon",onClick:()=>{t(2),o(!0)},style:{color:2===e?"white":"rgba(255,255,255,0.5)"}})]}),Object(p.jsx)("div",{className:"NewMessage Option",onClick:()=>{},children:"New Message"}),b?Object(p.jsx)("div",{children:j.map(((e,t)=>Object(p.jsx)("div",{className:"Option Person",onClick:()=>{N(e)},children:e.peerAddress.substring(0,6)+"..."+e.peerAddress.slice(-4)},t)))}):Object(p.jsx)("div",{className:"Option Person",children:"Loading..."})]}),Object(p.jsx)("div",{className:"MiddleNav",children:y&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"Option Site",children:"All"}),Object.keys(f).map(((e,t)=>Object(p.jsx)("div",{className:"Option Site",onClick:()=>{},children:e},t)))]})})]})}i.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(v,{}))}},[[709,1,2]]]);
//# sourceMappingURL=main.aeea280c.chunk.js.map