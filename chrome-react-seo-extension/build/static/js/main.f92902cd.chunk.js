(this["webpackJsonpchrome-react-seo-extension"]=this["webpackJsonpchrome-react-seo-extension"]||[]).push([[0],{171:function(e,t){},189:function(e,t){},331:function(e,t){},335:function(e,t){},336:function(e,t){},353:function(e,t,a){},354:function(e,t,a){},373:function(e,t){},375:function(e,t){},384:function(e,t){},386:function(e,t){},411:function(e,t){},413:function(e,t){},414:function(e,t){},419:function(e,t){},421:function(e,t){},440:function(e,t){},452:function(e,t){},455:function(e,t){},526:function(e,t){},603:function(e,t){},652:function(e,t){},669:function(e,t){},685:function(e,t){},735:function(e,t,a){"use strict";a.r(t);var n,s,c=a(40),o=a.n(c),i=a(330),l=a.n(i),r=(a(353),a(354),a(343)),d=a(205),u=a(105),m=a(344),p=a(22);function j(){const[e,t]=Object(c.useState)(0),[a,o]=Object(c.useState)(null===localStorage.getItem("privateKey")),[i,l]=Object(c.useState)(null!==localStorage.getItem("privateKey")&&localStorage.getItem("privateKey").includes("cipher")),[j,v]=Object(c.useState)(0);async function f(e){try{s=await m.a.create(n)}catch(t){alert("Cannot create client")}}async function g(e,t){try{const a=await s.conversations.newConversation(e);await a.send(t),async function(e){try{const n=await s.conversations.newConversation(e);var t=[],a=0;for(const e of await n.messages())e.senderAddress==s.address&&(t[a]=e,a+=1);t.forEach((function(e){var t=document.createElement("li"),a=document.createTextNode(e.content);t.appendChild(a),document.getElementById("messages").appendChild(t)}))}catch(n){console.log(n)}}(e)}catch(a){alert("Recipient is not on XMTP network.")}b()}async function y(e){if(""!==e)try{n=await u.a.fromEncryptedJson(localStorage.getItem("privateKey"),e,v)}catch(t){alert("Invalid password")}else n=new u.a(localStorage.getItem("privateKey"));b(),f(localStorage.getItem("privateKey"))}function b(){l(!1),o(!1),t(0),v(0)}return Object(c.useEffect)((()=>{i||null===localStorage.getItem("privateKey")||y("")}),[y,i]),Object(p.jsxs)("div",{className:"App",children:[a&&Object(p.jsxs)("div",{className:"Settings",children:[null!==localStorage.getItem("privateKey")&&Object(p.jsx)(d.a,{className:"ClosePrivateKey Icon",onClick:()=>{b()}}),Object(p.jsx)("div",{className:"Progress",id:"PrivateKeyProgress",style:{width:500*j+"px"}}),Object(p.jsx)("input",{className:"SettingsInput",id:"PrivateKey",type:"text",autoComplete:"off",placeholder:"Private Key"}),Object(p.jsx)("input",{className:"SettingsInput",id:"Password",type:"text",autoComplete:"off",placeholder:"Password"}),Object(p.jsx)("button",{className:"Save SaveSettings",onClick:()=>{!async function(e,t){try{if(n=new u.a(e),""!==t){let e=await n.encrypt(t,v);localStorage.setItem("privateKey",e)}else localStorage.setItem("privateKey",e);b(),f()}catch(a){alert("Invalid private key")}}(document.getElementById("PrivateKey").value,document.getElementById("Password").value)},children:"Save"})]}),i&&Object(p.jsxs)("div",{className:"InitialPassword",children:[Object(p.jsx)("div",{className:"Progress",id:"PasswordProgress",style:{width:500*j+"px"}}),Object(p.jsx)("input",{className:"SettingsInput",id:"InitialPassword",type:"text",autoComplete:"off",placeholder:"Password"}),Object(p.jsx)("button",{className:"Save SavePassword",onClick:()=>{y(document.getElementById("InitialPassword").value)},children:"Enter"})]}),1===e&&!i&&Object(p.jsxs)("div",{className:"Settings",children:[null!==localStorage.getItem("privateKey")&&Object(p.jsx)(d.a,{className:"ClosePrivateKey Icon",onClick:()=>{b()}}),Object(p.jsx)("div",{className:"Progress",id:"PrivateKeyProgress",style:{width:500*j+"px"}}),Object(p.jsx)("input",{className:"SettingsInput",id:"PublicKey",type:"text",autoComplete:"off",placeholder:"Public Key"}),Object(p.jsx)("input",{className:"SettingsInput",id:"Message",type:"text",autoComplete:"off",placeholder:"Message"}),Object(p.jsx)("button",{className:"Save SaveSettings",onClick:()=>{g(document.getElementById("PublicKey").value,document.getElementById("Message").value)},children:"Save"})]}),Object(p.jsx)("div",{className:"LeftNav",children:Object(p.jsxs)("div",{className:"LeftNavHeader",children:[Object(p.jsx)("span",{className:"LeftNavHeaderOption",onClick:()=>{t(1)},style:{color:0===e?"white":"rgba(255,255,255,0.5)"},children:"Message"}),Object(p.jsx)("span",{className:"LeftNavHeaderOption",onClick:()=>{},style:{color:1===e?"white":"rgba(255,255,255,0.5)"},children:"Load"}),Object(p.jsx)(r.a,{className:"OpenSettings Icon",onClick:()=>{t(3),o(!0)},style:{color:3===e?"white":"rgba(255,255,255,0.5)"}})]})}),Object(p.jsx)("div",{className:"MiddleNav",children:Object(p.jsx)("ul",{id:"messages"})})]})}l.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(j,{})}))}},[[735,1,2]]]);
//# sourceMappingURL=main.f92902cd.chunk.js.map