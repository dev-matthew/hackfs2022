{"ast":null,"code":"import _regeneratorRuntime from\"/Users/matthewfogel/Desktop/hackfs2022/chrome-react-seo-extension/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/matthewfogel/Desktop/hackfs2022/chrome-react-seo-extension/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/matthewfogel/Desktop/hackfs2022/chrome-react-seo-extension/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useEffect,useState}from'react';import{FiSettings}from'react-icons/fi';import{IoMdClose}from'react-icons/io';import{Wallet}from'ethers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var wallet;export default function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeLeft=_useState2[0],setActiveLeft=_useState2[1];var _useState3=useState(localStorage.getItem(\"privateKey\")===null),_useState4=_slicedToArray(_useState3,2),settings=_useState4[0],setSettings=_useState4[1];var _useState5=useState(localStorage.getItem(\"privateKey\")!==null&&localStorage.getItem(\"privateKey\").includes(\"cipher\")),_useState6=_slicedToArray(_useState5,2),passwordNeeded=_useState6[0],setPasswordNeeded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),progressWidth=_useState8[0],setProgressWidth=_useState8[1];function handlePrivateKey(_x,_x2){return _handlePrivateKey.apply(this,arguments);}function _handlePrivateKey(){_handlePrivateKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(privateKey,password){var encrypted;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:wallet=new Wallet(privateKey);if(!(password!==\"\")){_context.next=8;break;}_context.next=4;return wallet.encrypt(password,setProgressWidth);case 4:encrypted=_context.sent;localStorage.setItem(\"privateKey\",encrypted);_context.next=9;break;case 8:localStorage.setItem(\"privateKey\",privateKey);case 9:console.log(wallet);setSettings(false);setActiveLeft(0);case 12:case\"end\":return _context.stop();}}},_callee);}));return _handlePrivateKey.apply(this,arguments);}function activateWallet(_x3){return _activateWallet.apply(this,arguments);}function _activateWallet(){_activateWallet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(password){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(password!==\"\")){_context2.next=6;break;}_context2.next=3;return Wallet.fromEncryptedJson(localStorage.getItem(\"privateKey\"),password,setProgressWidth);case 3:wallet=_context2.sent;_context2.next=7;break;case 6:wallet=new Wallet(localStorage.getItem(\"privateKey\"));case 7:console.log(wallet);setPasswordNeeded(false);setActiveLeft(0);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _activateWallet.apply(this,arguments);}useEffect(function(){if(!passwordNeeded&&localStorage.getItem(\"privateKey\")!==null){activateWallet(\"\");}},[passwordNeeded]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[settings&&/*#__PURE__*/_jsxs(\"div\",{className:\"Settings\",children:[/*#__PURE__*/_jsx(IoMdClose,{className:\"ClosePrivateKey Icon\",onClick:function onClick(){setSettings(false);setActiveLeft(0);}}),/*#__PURE__*/_jsx(\"div\",{className:\"Progress\",id:\"PrivateKeyProgress\",style:{width:progressWidth*500+\"px\"}}),/*#__PURE__*/_jsx(\"input\",{className:\"SettingsInput\",id:\"PrivateKey\",type:\"text\",autoComplete:\"off\",placeholder:\"Private Key\"}),/*#__PURE__*/_jsx(\"input\",{className:\"SettingsInput\",id:\"Password\",type:\"text\",autoComplete:\"off\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Save SaveSettings\",onClick:function onClick(){handlePrivateKey(document.getElementById(\"PrivateKey\").value,document.getElementById(\"Password\").value);},children:\"Save\"})]}),passwordNeeded&&/*#__PURE__*/_jsxs(\"div\",{className:\"InitialPassword\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Progress\",id:\"PasswordProgress\",style:{width:progressWidth*500+\"px\"}}),/*#__PURE__*/_jsx(\"input\",{className:\"SettingsInput\",id:\"InitialPassword\",type:\"text\",autoComplete:\"off\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"Save SavePassword\",onClick:function onClick(){activateWallet(document.getElementById(\"InitialPassword\").value);},children:\"Enter\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"LeftNav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"LeftNavHeader\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"LeftNavHeaderOption\",onClick:function onClick(){return setActiveLeft(0);},style:{color:activeLeft===0?\"white\":\"rgba(255,255,255,0.5)\"},children:\"Sites\"}),/*#__PURE__*/_jsx(\"span\",{className:\"LeftNavHeaderOption\",onClick:function onClick(){return setActiveLeft(1);},style:{color:activeLeft===1?\"white\":\"rgba(255,255,255,0.5)\"},children:\"People\"}),/*#__PURE__*/_jsx(FiSettings,{className:\"OpenSettings Icon\",onClick:function onClick(){setActiveLeft(3);setSettings(true);},style:{color:activeLeft===3?\"white\":\"rgba(255,255,255,0.5)\"}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"MiddleNav\"})]});}","map":{"version":3,"names":["useEffect","useState","FiSettings","IoMdClose","Wallet","wallet","App","activeLeft","setActiveLeft","localStorage","getItem","settings","setSettings","includes","passwordNeeded","setPasswordNeeded","progressWidth","setProgressWidth","handlePrivateKey","privateKey","password","encrypt","encrypted","setItem","console","log","activateWallet","fromEncryptedJson","width","document","getElementById","value","color"],"sources":["/Users/matthewfogel/Desktop/hackfs2022/chrome-react-seo-extension/src/App.js"],"sourcesContent":["import './App.css';\nimport {useEffect, useState} from 'react';\nimport {FiSettings} from 'react-icons/fi';\nimport {IoMdClose} from 'react-icons/io';\nimport {Wallet} from 'ethers';\n\nvar wallet;\n\nexport default function App() {\n  const [activeLeft, setActiveLeft] = useState(0);\n  const [settings, setSettings] = useState(localStorage.getItem(\"privateKey\") === null);\n  const [passwordNeeded, setPasswordNeeded] = useState(localStorage.getItem(\"privateKey\") !== null && localStorage.getItem(\"privateKey\").includes(\"cipher\"));\n  const [progressWidth, setProgressWidth] = useState(0);\n\n  async function handlePrivateKey(privateKey, password) {\n    wallet = new Wallet(privateKey);\n    if (password !== \"\") {\n      let encrypted = await wallet.encrypt(password, setProgressWidth);\n      localStorage.setItem(\"privateKey\", encrypted);\n    } else {\n      localStorage.setItem(\"privateKey\", privateKey);\n    }\n    console.log(wallet);\n    setSettings(false);\n    setActiveLeft(0);\n  }\n\n  async function activateWallet(password) {\n    if (password !== \"\") {\n      wallet = await Wallet.fromEncryptedJson(localStorage.getItem(\"privateKey\"), password, setProgressWidth);\n    } else {\n      wallet = new Wallet(localStorage.getItem(\"privateKey\"));\n    }\n    console.log(wallet);\n    setPasswordNeeded(false);\n    setActiveLeft(0);\n  }\n\n  useEffect(() => {\n    if (!passwordNeeded && localStorage.getItem(\"privateKey\") !== null) {\n      activateWallet(\"\");\n    }\n  }, [passwordNeeded])\n\n  return (\n    <div className=\"App\">\n      {settings && <div className=\"Settings\">\n        <IoMdClose className=\"ClosePrivateKey Icon\"\n          onClick={() => {\n            setSettings(false);\n            setActiveLeft(0);\n          }}/>\n        <div className=\"Progress\" id=\"PrivateKeyProgress\"\n          style={{\n            width: progressWidth * 500 + \"px\"\n          }}></div>\n        <input className=\"SettingsInput\" id=\"PrivateKey\" type=\"text\" autoComplete=\"off\" placeholder=\"Private Key\"></input>\n        <input className=\"SettingsInput\" id=\"Password\" type=\"text\" autoComplete=\"off\" placeholder=\"Password\"></input>\n        <button className=\"Save SaveSettings\"\n          onClick={() => {\n            handlePrivateKey(document.getElementById(\"PrivateKey\").value, document.getElementById(\"Password\").value);\n          }}>Save</button>\n      </div>}\n\n      {passwordNeeded && <div className=\"InitialPassword\">\n          <div className=\"Progress\" id=\"PasswordProgress\"\n            style={{\n              width: progressWidth * 500 + \"px\"\n            }}></div>\n          <input className=\"SettingsInput\" id=\"InitialPassword\" type=\"text\" autoComplete=\"off\" placeholder=\"Password\"></input>\n          <button className=\"Save SavePassword\"\n            onClick={() => {\n              activateWallet(document.getElementById(\"InitialPassword\").value);\n            }}>Enter</button>\n      </div>}\n\n      <div className=\"LeftNav\">\n        <div className=\"LeftNavHeader\">\n          <span className=\"LeftNavHeaderOption\"\n            onClick={() => setActiveLeft(0)}\n            style={{\n              color: activeLeft === 0 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}>Sites</span>\n          <span className=\"LeftNavHeaderOption\"\n            onClick={() => setActiveLeft(1)}\n            style={{\n              color: activeLeft === 1 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}>People</span>\n          <FiSettings className=\"OpenSettings Icon\"\n            onClick={() => {\n              setActiveLeft(3);\n              setSettings(true);\n            }}\n            style={{\n              color: activeLeft === 3 ? \"white\" : \"rgba(255,255,255,0.5)\"\n            }}/>\n        </div>\n      </div>\n      <div className=\"MiddleNav\"></div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}